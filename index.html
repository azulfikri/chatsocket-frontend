<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>MyChat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://js.pusher.com/7.2/pusher.min.js"></script>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body class="bg-gray-100 text-sm">
    <!-- <input type="hidden" id="name" /> -->
    <!-- Chat Container -->
    <div class="flex flex-col h-screen max-w-md mx-auto shadow-lg bg-white">
      <!-- Header -->
      <div
        class="bg-green-600 text-white text-center py-3 text-base font-semibold sticky top-0 z-10"
      >
        MyChat
      </div>

      <!-- Chat Messages -->
      <div
        id="chat"
        class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50"
      ></div>

      <!-- Typing Indicator -->
      <div
        id="typing-indicator"
        class="text-gray-500 italic px-4 py-1 h-5"
      ></div>

      <!-- Input -->
      <div class="p-3 bg-white border-t flex items-center gap-2">
        <input
          type="hidden"
          id="name"
          placeholder="Nama kamu"
          class="w-1/4 px-3 py-2 border rounded-full focus:ring focus:ring-green-300"
        />
        <input
          type="text"
          id="message"
          placeholder="Tulis pesan..."
          class="flex-1 px-4 py-2 border rounded-full focus:ring focus:ring-green-300"
          onkeydown="if(event.key==='Enter') sendMessage()"
        />
        <button
          onclick="sendMessage()"
          class="bg-green-600 text-white px-4 py-2 rounded-full hover:bg-green-700 flex items-center gap-2 cursor-pointer"
        >
          <span id="send-text">Kirim</span>
          <svg
            id="loading-icon"
            class="w-4 h-4 animate-spin hidden"
            viewBox="0 0 24 24"
            fill="none"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="white"
              stroke-width="4"
            />
            <path class="opacity-75" fill="white" d="M4 12a8 8 0 018-8v8z" />
          </svg>
        </button>
      </div>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>
